<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Neuromorphic Notes - Static Todo</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
  <style>
    /* --- Copied from index.css and App.css --- */
    :root {
      --paper-color: #f5f0e1;
      --ink-color: #333;
      --shadow-light: #f0e6d2;
      --shadow-dark: #d9d0b8;
      --accent-color: #e63946;
      --border-color: #d1c7b0;
      --completed-color: #8ac926;
      --margin-color: #f0e6d2;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      background-color: #f8f4e7;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      font-family: 'Caveat', cursive;
      color: var(--ink-color);
      padding: 20px;
      background-image: 
        radial-gradient(circle, #f0e6d2 1px, transparent 1px),
        radial-gradient(circle, #f0e6d2 1px, transparent 1px);
      background-size: 40px 40px;
      background-position: 0 0, 20px 20px;
    }
    .handwriting {
      font-family: 'Caveat', cursive;
      font-size: 1.4rem;
      line-height: 1.6;
    }
    .handwriting-sub {
      font-family: 'Caveat', cursive;
      font-size: 1.2rem;
      color: #777;
    }
    .handwritten-input {
      font-family: 'Caveat', cursive;
      font-size: 1.4rem;
      background: transparent;
      border: none;
      border-bottom: 2px dashed var(--border-color);
      outline: none;
      width: 100%;
      padding: 8px 0;
      color: var(--ink-color);
    }
    .handwritten-input:focus {
      border-bottom: 2px dashed var(--accent-color);
    }
    .neuromorphic {
      border-radius: 10px;
      background: var(--paper-color);
      box-shadow: 
        8px 8px 16px var(--shadow-dark),
        -8px -8px 16px var(--shadow-light);
    }
    .neuromorphic-inset {
      border-radius: 10px;
      background: var(--paper-color);
      box-shadow: 
        inset 5px 5px 10px var(--shadow-dark),
        inset -5px -5px 10px var(--shadow-light);
    }
    .neuromorphic-pressed {
      box-shadow: 
        inset 5px 5px 10px var(--shadow-dark),
        inset -5px -5px 10px var(--shadow-light);
    }
    .notebook-app {
      max-width: 800px;
      width: 100%;
      position: relative;
    }
    .notebook-cover {
      background: linear-gradient(135deg, #8a6d3b 0%, #5d4037 100%);
      border-radius: 8px 8px 0 0;
      padding: 30px 40px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      position: relative;
      z-index: 2;
    }
    .notebook-title {
      text-align: center;
      color: #fff;
    }
    .notebook-title h1 {
      font-family: 'Dancing Script', cursive;
      font-size: 3.5rem;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    }
    .subtitle {
      font-size: 1.2rem;
      opacity: 0.9;
      margin-top: 5px;
    }
    .notebook-paper {
      display: flex;
      background-color: var(--paper-color);
      min-height: 600px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      border-radius: 0 0 8px 8px;
      overflow: hidden;
      position: relative;
      z-index: 1;
    }
    .notebook-margin {
      width: 50px;
      background-color: var(--margin-color);
      padding: 20px 0;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .margin-line {
      width: 30px;
      height: 1px;
      background-color: #c9bda5;
      margin: 15px 0;
    }
    .notebook-content {
      flex: 1;
      padding: 30px;
      position: relative;
    }
    .notebook-content::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: repeating-linear-gradient(
        var(--paper-color) 0px,
        var(--paper-color) 24px,
        #ddd6c4 25px
      );
      z-index: -1;
      opacity: 0.5;
    }
    .notebook-bottom {
      display: flex;
      justify-content: space-between;
      margin-top: 10px;
    }
    .page-count {
      font-family: 'Caveat', cursive;
      font-size: 1.2rem;
      color: #8a6d3b;
    }
    .notebook-spine {
      width: 30px;
      height: 20px;
      background: linear-gradient(to right, #5d4037, #8a6d3b);
      border-radius: 0 0 5px 5px;
    }
    .add-task-form {
      margin-bottom: 30px;
    }
    .input-group {
      display: flex;
      gap: 10px;
      margin-bottom: 15px;
    }
    .add-button {
      background: var(--accent-color);
      color: white;
      border: none;
      padding: 8px 20px;
      border-radius: 5px;
      cursor: pointer;
      font-family: 'Caveat', cursive;
      font-size: 1.4rem;
      font-weight: bold;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      box-shadow: 
        3px 3px 6px var(--shadow-dark),
        -3px -3px 6px var(--shadow-light);
    }
    .add-button:hover {
      transform: translateY(-2px);
      box-shadow: 
        5px 5px 10px var(--shadow-dark),
        -5px -5px 10px var(--shadow-light);
    }
    .add-button:active {
      transform: translateY(1px);
      box-shadow: 
        inset 2px 2px 4px rgba(0, 0, 0, 0.2),
        inset -2px -2px 4px rgba(255, 255, 255, 0.1);
    }
    .ink-effect {
      position: relative;
      z-index: 1;
    }
    .add-button::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.1);
      clip-path: circle(0% at 50% 50%);
      transition: clip-path 0.5s ease;
    }
    .add-button:hover::before {
      clip-path: circle(100% at 50% 50%);
    }
    .filter-controls {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      justify-content: center;
    }
    .filter-button {
      background: transparent;
      border: 2px solid var(--border-color);
      padding: 5px 15px;
      border-radius: 20px;
      cursor: pointer;
      font-family: 'Caveat', cursive;
      font-size: 1.2rem;
      transition: all 0.3s ease;
    }
    .filter-button:hover {
      background-color: rgba(0, 0, 0, 0.05);
      border-color: var(--accent-color);
    }
    .task-list {
      margin-bottom: 30px;
    }
    .task-item {
      padding: 15px 0;
      position: relative;
    }
    .task-content {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    .task-checkbox {
      flex-shrink: 0;
    }
    .neuromorphic-checkbox {
      -webkit-appearance: none;
      width: 22px;
      height: 22px;
      border-radius: 50%;
      background: var(--paper-color);
      box-shadow: 
        3px 3px 6px var(--shadow-dark),
        -3px -3px 6px var(--shadow-light),
        inset 3px 3px 6px var(--shadow-dark),
        inset -3px -3px 6px var(--shadow-light);
      cursor: pointer;
      position: relative;
    }
    .neuromorphic-checkbox:checked {
      background-color: var(--completed-color);
      box-shadow: 
        inset 3px 3px 6px rgba(0, 0, 0, 0.2),
        inset -3px -3px 6px rgba(255, 255, 255, 0.1);
    }
    .neuromorphic-checkbox:checked::after {
      content: "\2713";
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: white;
      font-size: 14px;
    }
    .task-description {
      flex: 1;
      cursor: pointer;
      transition: all 0.3s ease;
      padding: 5px 0;
    }
    .task-description:hover {
      transform: translateX(5px);
    }
    .strikethrough {
      text-decoration: line-through;
      color: #777;
    }
    .completed .task-description {
      color: #777;
    }
    .task-line {
      position: absolute;
      bottom: 0;
      left: 40px;
      right: 0;
      height: 1px;
      background-color: var(--border-color);
      opacity: 0.5;
    }
    .delete-button {
      background: transparent;
      border: none;
      color: var(--accent-color);
      font-size: 1.8rem;
      cursor: pointer;
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      transition: all 0.3s ease;
    }
    .delete-button:hover {
      background-color: rgba(230, 57, 70, 0.1);
      transform: scale(1.1);
    }
    .edit-form {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .edit-buttons {
      display: flex;
      gap: 10px;
    }
    .save-button, .cancel-button {
      padding: 5px 15px;
      border-radius: 5px;
      cursor: pointer;
      font-family: 'Caveat', cursive;
      font-size: 1.2rem;
      border: none;
      transition: all 0.3s ease;
    }
    .save-button {
      background-color: var(--completed-color);
      color: white;
    }
    .cancel-button {
      background-color: #e0e0e0;
    }
    .task-stats {
      display: flex;
      justify-content: space-between;
      padding: 10px 20px;
      background-color: rgba(0, 0, 0, 0.03);
      border-radius: 5px;
    }
    .empty-state {
      text-align: center;
      padding: 40px 20px;
      opacity: 0.5;
    }
  </style>
</head>
<body>
  <div class="notebook-app">
    <div class="notebook-cover">
      <div class="notebook-title">
        <h1>Neuromorphic Notes</h1>
        <div class="subtitle">Redux-powered Todo List (Static Version)</div>
      </div>
    </div>
    <div class="notebook-paper">
      <div class="notebook-margin">
        <div class="margin-line"></div>
        <div class="margin-line"></div>
        <div class="margin-line"></div>
        <div class="margin-line"></div>
        <div class="margin-line"></div>
      </div>
      <div class="notebook-content">
        <form id="add-task-form" class="add-task-form">
          <div class="input-group">
            <input type="text" id="new-task-input" class="handwritten-input" placeholder="Write a new task..." />
            <button type="submit" class="add-button"><span class="ink-effect">+ Add Task</span></button>
          </div>
        </form>
        <div class="task-list-container">
          <div class="filter-controls">
            <button class="filter-button" data-filter="all">All Tasks</button>
            <button class="filter-button" data-filter="done">Completed</button>
            <button class="filter-button" data-filter="notDone">Pending</button>
          </div>
          <div id="task-list" class="task-list"></div>
          <div class="task-stats">
            <div class="handwriting" id="total-tasks">Total: 0 tasks</div>
            <div class="handwriting" id="completed-tasks">Completed: 0</div>
          </div>
        </div>
      </div>
    </div>
    <div class="notebook-bottom">
      <div class="page-count">Page 1 of 1</div>
      <div class="notebook-spine"></div>
    </div>
  </div>
  <script>
    // --- Vanilla JS State & Logic ---
    let state = {
      tasks: [
        { id: 1, description: 'Buy groceries for dinner', isDone: false },
        { id: 2, description: 'Finish React project', isDone: true },
        { id: 3, description: 'Schedule dentist appointment', isDone: false },
        { id: 4, description: 'Read new book chapter', isDone: false },
      ],
      filter: 'all',
      editingId: null,
    };

    const taskListEl = document.getElementById('task-list');
    const totalTasksEl = document.getElementById('total-tasks');
    const completedTasksEl = document.getElementById('completed-tasks');
    const addTaskForm = document.getElementById('add-task-form');
    const newTaskInput = document.getElementById('new-task-input');
    const filterButtons = document.querySelectorAll('.filter-button');

    function renderTasks() {
      let filtered = state.tasks;
      if (state.filter === 'done') filtered = filtered.filter(t => t.isDone);
      if (state.filter === 'notDone') filtered = filtered.filter(t => !t.isDone);

      taskListEl.innerHTML = '';
      if (filtered.length === 0) {
        taskListEl.innerHTML = `
          <div class="empty-state">
            <div class="handwriting">No tasks found...</div>
            <div class="handwriting-sub">Try adding a task or changing filters</div>
          </div>
        `;
      } else {
        filtered.forEach(task => {
          const taskItem = document.createElement('div');
          taskItem.className = `task-item${task.isDone ? ' completed' : ''}`;
          taskItem.innerHTML = `
            <div class="task-content">
              <div class="task-checkbox">
                <input type="checkbox" class="neuromorphic-checkbox" ${task.isDone ? 'checked' : ''} data-id="${task.id}" />
              </div>
              ${state.editingId === task.id ? `
                <div class="edit-form">
                  <input type="text" class="handwritten-input edit-input" value="${escapeHtml(task.description)}" />
                  <div class="edit-buttons">
                    <button class="save-button">Save</button>
                    <button class="cancel-button">Cancel</button>
                  </div>
                </div>
              ` : `
                <div class="task-description handwriting${task.isDone ? ' strikethrough' : ''}" data-edit="${task.id}">
                  ${escapeHtml(task.description)}
                </div>
              `}
              <button class="delete-button" data-delete="${task.id}">&times;</button>
            </div>
            <div class="task-line"></div>
          `;
          taskListEl.appendChild(taskItem);

          // Checkbox toggle
          const checkbox = taskItem.querySelector('.neuromorphic-checkbox');
          checkbox.addEventListener('change', () => {
            task.isDone = !task.isDone;
            renderTasks();
            renderStats();
          });

          // Delete button
          const deleteBtn = taskItem.querySelector('.delete-button');
          deleteBtn.addEventListener('click', () => {
            state.tasks = state.tasks.filter(t => t.id !== task.id);
            renderTasks();
            renderStats();
          });

          // Edit
          if (state.editingId === task.id) {
            const editInput = taskItem.querySelector('.edit-input');
            editInput.focus();
            editInput.setSelectionRange(editInput.value.length, editInput.value.length);
            const saveBtn = taskItem.querySelector('.save-button');
            const cancelBtn = taskItem.querySelector('.cancel-button');
            saveBtn.addEventListener('click', () => {
              const val = editInput.value.trim();
              if (val) {
                task.description = val;
                state.editingId = null;
                renderTasks();
              }
            });
            cancelBtn.addEventListener('click', () => {
              state.editingId = null;
              renderTasks();
            });
            editInput.addEventListener('keydown', e => {
              if (e.key === 'Enter') {
                saveBtn.click();
              } else if (e.key === 'Escape') {
                cancelBtn.click();
              }
            });
          } else {
            const desc = taskItem.querySelector('.task-description');
            desc && desc.addEventListener('click', () => {
              state.editingId = task.id;
              renderTasks();
            });
          }
        });
      }
    }

    function renderStats() {
      totalTasksEl.textContent = `Total: ${state.tasks.length} tasks`;
      completedTasksEl.textContent = `Completed: ${state.tasks.filter(t => t.isDone).length}`;
    }

    addTaskForm.addEventListener('submit', e => {
      e.preventDefault();
      const val = newTaskInput.value.trim();
      if (val) {
        state.tasks.push({
          id: Date.now(),
          description: val,
          isDone: false
        });
        newTaskInput.value = '';
        renderTasks();
        renderStats();
      }
    });

    filterButtons.forEach(btn => {
      btn.addEventListener('click', e => {
        e.preventDefault();
        state.filter = btn.getAttribute('data-filter');
        renderTasks();
      });
    });

    function escapeHtml(str) {
      return str.replace(/[&<>"']/g, function(tag) {
        const charsToReplace = {
          '&': '&amp;',
          '<': '&lt;',
          '>': '&gt;',
          '"': '&quot;',
          "'": '&#39;'
        };
        return charsToReplace[tag] || tag;
      });
    }

    // Initial render
    renderTasks();
    renderStats();
  </script>
</body>
</html>
